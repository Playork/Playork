<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>Paint</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" type="text/css" media="screen" href="../main.css" />
    <script src="../script/paint.js"></script>
    <link href="../css/paint.css" rel="stylesheet" type="text/css">
</head>
<body style="color:white;">
        <div>
                <header id="titlebar">
                        <div id="drag-region">
                                <div id="window-title">
                                        <span>Playork</span>
                                </div>
                                <div id="window-controls">
                                        <div class="button" id="min-button">
                                          <span>&#xE921;</span>
                                        </div>
                                        <div class="button" id="max-button">
                                          <span>&#xE922;</span>
                                        </div>
                                        <div class="button" id="restore-button">
                                          <span>&#xE923;</span>
                                        </div>
                                        <div class="button" id="close-button">
                                          <span>&#xE8BB;</span>
                                        </div>
                                </div>
                        </div>
                </header>
          <script>
            require('./../renderer.js')
          </script>
          </div>
            <div id=colors class="colors">
                <div id="margin">
                <p><input id='color' type="color" onchange='changeColor("value")' ontouchstart='changeColor("value")'/>
                <button id='colorValue' onclick='newColor()' >GO</button>(1.pick color 2.press GO)</p>
                </div>
                <button id='black' onclick='changeColor("black")' ontouchstart='changeColor("black")'></button>
                
                <button id='red' onclick='changeColor("red")' ontouchstart='changeColor("red")'></button>
                
                <button id='green' onclick='changeColor("green")' ontouchstart='changeColor("green")'></button>
                
                <button id='blue' onclick='changeColor("blue")' ontouchstart='changeColor("blue")'></button>
        
                <button id='orange' onclick='changeColor("orange")' ontouchstart='changeColor("orange")'></button>
                
                <button id='pink' onclick='changeColor("pink")' ontouchstart='changeColor("pink")'></button>
                
                <button id='white' onclick='changeColor("white")' ontouchstart='changeColor("white")'></button>
                
                <button id='yellow' onclick='changeColor("yellow")' ontouchstart='changeColor("yellow")'></button>
                
                <button id='brown' onclick='changeColor("brown")' ontouchstart='changeColor("brown")'></button>
                
            </div>
           <div id='colors'>
            <canvas id='canvas' width="600" height="315"></canvas>
            <button  onclick="takeScreenShot()">Save</button>
            <h4 style="color:#222;">Line width:</h4>
           <form>
            <div id="maxl">
                <label class="radio inline"> 
                <input type="radio" name="painterWidth" onclick='changeWidth(1)' ontouchstart='changeWidth(1)'>very small
                </label>
                
                <label class="radio inline"> 
                <input type="radio" name="painterWidth" onclick='changeWidth(3)' ontouchstart='changeWidth(3)'>small
                </label>
                
                <label class="radio inline"> 
                <input type="radio" name="painterWidth" onclick='changeWidth(5)' ontouchstart='changeWidth(5)'            checked>real
                </label>
                
                <label class="radio inline"> 
                <input type="radio" name="painterWidth" onclick='changeWidth(10)' ontouchstart='changeWidth(10)'>big
                </label>
                
                <label class="radio inline"> 
                <input type="radio" name="painterWidth" onclick='changeWidth(20)' ontouchstart='changeWidth(20)'>very big
                </label>
                
                <label class="radio inline"> 
                <input type="radio" name="painterWidth" onclick='changeWidth(40)' ontouchstart='changeWidth(40)'>extremely big
                </label>
                
            </div>
            </div>
           </form>
           <div class="size">
            <button id="clear" id='sizeDown' onclick='changeSize("-")'>-</button>
            <button id="clear" id='sizeUp' onclick='changeSize("+")'>+</button>
            </div>
           </div>
           <div>
            <button id="clear" onclick='clearCanvas()'><img src="../images/trash.png" width="15px" height="15px"/>clear</button>
           </div>
           <script src="../script/html2canvas.min.js"></script>
           <script>
            var takeScreenShot = function() {
            html2canvas(document.getElementById("canvas"), {
            onrendered: function (canvas) {
            var tempcanvas=document.createElement('canvas');
            tempcanvas.width=600;
            tempcanvas.height=315;
            var context=tempcanvas.getContext('2d');
            context.drawImage(canvas,0,0,600,315,0,0,600,315);
            var link=document.createElement("a");
            link.href=tempcanvas.toDataURL('image/jpg');   //function blocks CORS
            link.download = 'screenshot.jpg';
            link.click();
            }
            });
            }
           </script>
</body>
</html>